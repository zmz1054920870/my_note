## ä¸€ã€VLAN

![image-20220214224936550](image-20220214224936550.png)





```python
# è¿›å…¥ç³»ç»Ÿæ¨¡å¼
system-view						

# ç»™äº¤æ¢æœºåˆ›å»ºä¸€ä¸ªåå­—ï¼ˆè¿™ä¸€æ­¥ä¸éœ€è¦å“ˆï¼‰
sysname s5700					

# ç»™äº¤æ¢æœºåˆ›å»º2ä¸ªVLAN 10å’Œ20
vlan batch 10 20				

# è¿›å…¥æ¥å£
interface GigabitEthernet 0/0/1	

# ä¿®æ”¹ç«¯å£ç±»å‹ä¸ºaccesså£
port link-type access

# å°†è¯¥ç«¯å£åŠ å…¥åˆ°VLAN 10 (æ‰€æœ‰å¸¦ vlan 10 çš„æ•°æ®éƒ½å¯ä»¥è®¿é—®)
port default vlan 10

# é€€å‡º
quit

# è¿›å…¥æ¥å£
interface GigabitEthernet 0/0/2

# ä¿®æ”¹ç«¯å£ç±»å‹ä¸ºaccesså£
port link-type access

# å°†è¯¥ç«¯å£åŠ å…¥åˆ°VLAN 10 (æ‰€æœ‰å¸¦ vlan 10 çš„æ•°æ®éƒ½å¯ä»¥è®¿é—®)
port default vlan 20

# é€€å‡º
quit

# è¿›å»vlanif10ä¸‰å±‚æ¥å£
interface Vlanif 10

# é…ç½®vlanif ä¸‰å±‚æ¥å£çš„ç½‘å…³åœ°å€
ip address 10.32.73.254 24

# é€€å‡º
quit

# è¿›å»vlanif20ä¸‰å±‚æ¥å£
interface Vlanif 20

# é…ç½®vlanif ä¸‰å±‚æ¥å£çš„ç½‘å…³åœ°å€ï¼ˆå¿…é¡»å°†ä¸€ä¸ªæ¥å£åˆ’å…¥åˆ°vlanä¸‹ä»¥åæ‰å¯ä»¥é…ç½®vlanifï¼Œä¸ç„¶å‘½ä»¤éƒ½æ•²ä¸å‡ºæ¥ï¼‰
ip address ip address 192.168.8.254 24

# é…ç½®ä¸»æœºPC1çš„IPåœ°å€(ä¸»æœºçš„ç½‘å…³åœ°å€è¦å’Œvlanif10çš„ç½‘å…³åœ°å€ä¿æŒä¸€è‡´)
IP 10.32.73.8
netmark 255.255.255.0
gateway 10.32.73.254

# é…ç½®ä¸»æœºPC2çš„IPåœ°å€(ä¸»æœºçš„ç½‘å…³åœ°å€è¦å’Œvlanif20çš„ç½‘å…³åœ°å€ä¿æŒä¸€è‡´)
IP 192.168.8.85
netmark 255.255.255.0
gateway 192.168.8.254

# ğŸ”ºé…ç½®äº†vlanifä»¥åï¼Œè¯¥æ¥å£åªèƒ½æ˜¯
```

![image-20220214232455609](image-20220214232455609.png)



ä½œç”¨ï¼š
åªæ˜¯åœ¨äº¤æ¢æœºä»å¤–éƒ¨æ¥æ”¶åˆ°Untaggedæ•°æ®å¸§æ—¶ï¼Œç”¨äºåœ¨æ•°æ®å¸§æœ‰ä¾¿ç­¾æƒ…å†µä¸‹åˆ¤æ–­æ˜¯å¦æ¥å—è¯¥æ•°æ®å¸§/æ— ä¾¿ç­¾æƒ…å†µä¸‹ç»™æ•°æ®å¸§æ·»åŠ ä¾¿ç­¾ç”¨çš„ã€‚

Hybridç±»å‹æ¥å£çš„PVIDæ˜¯å¯ä»¥æ‰‹åŠ¨æ›´æ”¹çš„ã€‚
åä¸ºè®¾å¤‡é€šè¿‡å‘½ä»¤ port hybrid pvid vlan xx;



Accessç±»å‹æ¥å£å°†æ¥å£åˆ’è¿›æŸä¸€ä¸ªVLANæ—¶ï¼Œæ¥å£çš„PVIDä¹Ÿéšä¹‹æ”¹å˜ã€‚



Trunkç±»å‹çš„æ¥å£çš„PVIDä¹Ÿæ˜¯å¯ä»¥æ‰‹åŠ¨æ”¹çš„ã€‚
åä¸ºè®¾å¤‡é€šè¿‡å‘½ä»¤ port trunk pvid vlan xx;



æ™®é€šäº¤æ¢æœºçš„äºŒå±‚ç«¯å£æœ‰ä¸‰ç§å¸¸è§çš„ç«¯å£ç±»å‹ï¼šaccessã€trunkã€hybirdï¼Œ

accessç«¯å£ä¸€èˆ¬ç”¨ä½œPCæˆ–æœåŠ¡å™¨ä¸»æœºæ¥å…¥ï¼Œé€šè¿‡è¯¥ç«¯å£çš„æ•°æ®åŒ…éƒ½æ˜¯ä¸å¸¦VLAN tagçš„ï¼›

trunkç«¯å£å¯ä»¥å…è®¸å¤šä¸ªVLANçš„æ•°æ®åŒ…é€šè¿‡ï¼Œä¸€èˆ¬è¿æ¥å…¶ä»–äº¤æ¢æœºï¼›

hybirdç«¯å£æ¯”è¾ƒçµæ´»ï¼Œå¯ä»¥æ ¹æ®ç”¨æˆ·éœ€æ±‚ï¼Œå¯¹é€šè¿‡è¯¥ç«¯å£çš„æ•°æ®åŒ…è¿›è¡ŒVLAN tagæ‰“æ ‡å’Œå»æ ‡åŠ¨ä½œï¼Œå¯ä»¥è¿ä¸»æœºä¹Ÿå¯ä»¥è¿å…¶ä»–äº¤æ¢æœºï¼›åœ¨å¼€å§‹è®²è§£ä¹‹å‰ï¼Œ**è¯·è®°ä½äº¤æ¢æœºå†…éƒ¨çš„æ‰€æœ‰æ•°æ®æŠ¥æ–‡æ˜¯æœ‰VLAN tagçš„ï¼Œ**

ä¸‹é¢æˆ‘ä»¬é€šè¿‡åˆ†æäº¤æ¢æœºç«¯å£çš„è¿›ã€å‡ºä¸¤ä¸ªæ–¹å‘å¯¹VLAN tagçš„å¤„ç†è¿‡ç¨‹æ¥è¯¦ç»†è¯´æ˜è¿™ä¸‰ç§ç«¯å£ç±»å‹çš„åŒºåˆ«ï¼›

accessç«¯å£ï¼š

    é€šè¿‡accesså‡ºå»çš„æ•°æ®åŒ…éƒ½æ˜¯ä¸å¸¦VLAN tagçš„ï¼›
    
    åœ¨accessç«¯å£è¿›æ–¹å‘ï¼Œäº¤æ¢æœºæ¥æ”¶åˆ°æ•°æ®åŒ…åï¼Œå…ˆåˆ¤æ–­æ˜¯å¦å¸¦VLAN tagï¼Œæœ‰åˆ™ä¸¢å¼ƒæ•°æ®åŒ…ï¼Œæ²¡æœ‰åˆ™æ‰“ä¸Šè¯¥ç«¯å£å·²é…ç½®çš„VLAN tagï¼›
    
    åœ¨accessç«¯å£å‡ºæ–¹å‘ï¼Œäº¤æ¢æœºå°†æ‰“äº†ä¸ç«¯å£ç›¸åŒVLAN tagçš„æ•°æ®åŒ…è½¬å‘å‡ºå»ï¼Œå¹¶ä¸”å»æ‰VLAN tagå˜æˆæ™®é€šæ•°æ®åŒ…ã€‚

 è¿™é‡Œæœ‰ä¸€ä¸ªç°è±¡ï¼šå¦‚æœæ”¶åˆ°äº†å’Œè‡ªå·±vlanç›¸åŒçš„å¸¦æ ‡ç­¾çš„æ•°æ®ã€‚accesså£å…è®¸åŒvlanè¿›å…¥ï¼Œä½†æ˜¯æ¥å£éƒ½æ˜¯æˆå¯¹çš„ï¼Œå¦‚æœaccesså£æ¥æ”¶åˆ°åŒvlanæ•°æ®ï¼Œè¡¨æ˜å¯¹ç«¯æ˜¯trunkå£ï¼ˆæˆ–è€…hybridï¼‰ï¼Œæ•°æ®ä»trunkå£è¿›å…¥accesså£æ²¡é—®é¢˜ï¼Œä½†åº”ç­”æ•°æ®ä»accesså£å‡ºå»åï¼Œä¼šå‰¥ç¦»æ ‡ç­¾ï¼Œæ­¤æ—¶å†è¿›å…¥trunkå£ï¼Œä¼šæ‰“ä¸Štrunkå£çš„pvidï¼ˆå› ä¸ºè¯¥æ•°æ®ä»trunkåˆ°accessçš„è¿‡ç¨‹ä¸­å¸¦æœ‰vlanï¼Œè¯´æ˜pvidå’ŒåŸæœ‰vlanä¸ä¸€æ ·ï¼‰ï¼Œæ­¤æ—¶åº”ç­”æ•°æ®å¸¦æœ‰çš„vlanå·²ç»å’ŒåŸæœ‰vlanä¸ä¸€æ ·äº†ï¼Œæ‰€ä»¥æ˜¯æ— æ³•é€šè®¯çš„ã€‚æ€»çš„æ¥è¯´ï¼Œä¸€ç«¯accessï¼Œä¸€ç«¯trunkï¼Œæ˜¯ä¸åˆç†çš„ç½‘ç»œæ‹“æ‰‘








trunkç«¯å£ï¼šhttps://blog.csdn.net/yangnianlong/article/details/104267180

```python
é€šè¿‡trunkç«¯å£çš„æ•°æ®åŒ…éƒ½å¿…é¡»å¸¦ä¸ŠVLAN tagï¼›

åœ¨trunkç«¯å£è¿›æ–¹å‘ï¼Œäº¤æ¢æœºæ¥æ”¶åˆ°æ•°æ®åŒ…åï¼Œå…ˆåˆ¤æ–­æ˜¯å¦å¸¦VLAN tagï¼Œæ²¡æœ‰åˆ™ä¸¢å¼ƒæ•°æ®åŒ…ï¼Œæœ‰åˆ™æŒ‰ç…§å¯¹åº”VLANè¿›è¡Œè½¬å‘ï¼›

åœ¨trunkç«¯å£å‡ºæ–¹å‘ï¼Œäº¤æ¢æœºå°†å¸¦VLAN tagçš„æ•°æ®åŒ…åŸå°ä¸åŠ¨è½¬å‘å‡ºå»ï¼Œæ²¡æœ‰å¸¦VLAN tagæ•°æ®åŒ…ä¸ä¼šä»trunkç«¯å£è½¬å‘å‡ºå»ã€‚

åœ¨trunkç«¯å£ä¸Šæœ‰ä¸€ç§ç‰¹æ®Šæƒ…å†µï¼Œå¦‚æœé…ç½®äº†native VLANï¼ˆä¹Ÿå«PVIDï¼‰ï¼Œè½¬å‘æ–¹å¼ç­‰åŒäºaccessç«¯å£ï¼Œå½“ä»ç«¯å£è¿›æ¥çš„æŠ¥æ–‡ä¸å¸¦vlan tagæ—¶ï¼Œå°±æ‰“ä¸ŠNative vlan tagï¼› å½“ä»ç«¯å£å‡ºå»çš„æŠ¥æ–‡å¸¦Native vlan tagæ—¶ï¼Œä¼šå‰¥ç¦»TAGã€‚
```



hybirdç«¯å£ï¼š

```python
é¡¾åæ€ä¹‰ï¼Œè¿™æ˜¯ä¸€ç§æ··åˆç«¯å£ï¼Œæ˜¯accesså’Œtrunkä¸¤ç§ç«¯å£çš„æ··åˆï¼Œæ—¢å¯ä»¥è½¬å‘æ— vlan tagæŠ¥æ–‡ï¼Œä¹Ÿå¯ä»¥è½¬å‘æœ‰vlan tagæŠ¥æ–‡ï¼›åœ¨hybirdç«¯å£ä¸Šé€šå¸¸ä¼šé…ç½®tag vlanå’Œuntag vlanï¼Œå¯¹äºtag vlanï¼Œå…¶è½¬å‘æ–¹å¼ä¸trunkå£ç›¸åŒï¼Œå¯¹äºuntag vlanï¼Œå…¶è½¬å‘æ–¹å¼ä¸accesså£ç›¸åŒï¼›

åœ¨hybirdç«¯å£è¿›æ–¹å‘ï¼Œäº¤æ¢æœºæ¥æ”¶åˆ°æ•°æ®åŒ…åï¼Œå…ˆåˆ¤æ–­æ˜¯å¦å¸¦VLAN tagï¼Œæ²¡æœ‰åˆ™ä¸¢å¼ƒï¼Œå¦‚æœæ²¡æœ‰vlan tagä½†æ˜¯é…ç½®äº†PVIDï¼Œåˆ™æ‰“ä¸ŠPVIDçš„vlan tagï¼›æœ‰åˆ™æŒ‰ç…§å¯¹åº”VLANè¿›è¡Œè½¬å‘ï¼›è¿›æ–¹å‘ä¸çœ‹untagé…ç½®ï¼›

åœ¨hybirdç«¯å£å‡ºæ–¹å‘ï¼Œå¯¹äºé…ç½®äº†tag vlançš„æ•°æ®åŒ…ï¼ŒåŸå°ä¸åŠ¨å‘é€å‡ºå»ï¼Œå¯¹äºç«¯å£é…ç½®äº†untag vlançš„æ•°æ®åŒ…ï¼Œåˆ™å»æ‰vlan tagå†å‘é€å‡ºå»ï¼›å¦‚æœæ˜¯PVIDçš„vlanï¼Œåˆ™å»æ‰vlan tagå†å‘é€å‡ºå»ï¼›
```











```python
# åˆ é™¤vlanifï¼ˆåˆ é™¤ä»¥ååŒæ—¶ä¹Ÿä¼šåˆ é™¤vlanifé…ç½®çš„ipï¼‰
undo interface vlanif 10

# å¼€å¯vlanif
interface vlanif 10

# åˆ é™¤vlan(åˆ é™¤VLANå¿…é¡»å…ˆåˆ é™¤vlanif)
undo vlan 10

# åˆ é™¤accessç±»å‹
undo port link-type access

# æŸ¥çœ‹vlan
display vlan

# æŸ¥çœ‹ç«¯å£çš„å…·ä½“vlan pvid allow-pass è¯¦æƒ…
display port vlan

# è¿›å…¥vlanif
interface vlanif 10
dis this	#æŸ¥çœ‹vlanifä¸‰å±‚æ¥å£é…ç½®
```

éœ€è¦ä¸€å±‚ä¸€å±‚çš„æ¥åˆ é™¤é…ç½®ï¼Œç›´åˆ°æ¢å¤åˆ°é»˜è®¤çš„é…ç½®ã€‚

æ¯”å¦‚ï¼š

é…ç½®çš„æ—¶å€™ä¸ºï¼š

port link-type access

port default vlan 4

å¦‚æœç›´æ¥æ›´æ”¹ç«¯å£æ¨¡å¼å°±ä¼šæŠ¥é”™ä¸ºError: Please renew the default configurations.

æ‰€ä»¥å¦‚æœå‡ºç°è¿™ç§é”™è¯¯ï¼Œåœ¨è¿™é‡Œå°±éœ€è¦ä»åå¾€å‰åˆ é™¤,å³ï¼š

undo port default vlan 4

undo port link-type

åˆ°è¿™é‡Œä»¥å æ‰å¯ä»¥é‡æ–°æ›´æ”¹ç«¯å£çš„æ¨¡å¼ã€‚



å½“äº¤æ¢æœºçš„æ¥å£ç±»å‹ä¸ºaccessç±»å‹æ—¶ï¼Œpidï¼pvid,ä¹Ÿå°±æ˜¯è¯´ä¸ç”¨ä»»ä½•å‘½ä»¤æ¥è®¾ç½®ã€‚
pvidè¿™ä¸ªå‚æ•°åªé’ˆå¯¹äº trunkã€hybirdå£æ¥è¯´æ‰æœ‰æ„ä¹‰ï¼Œå¯¹äºaccesså£æ¥è¯´æ²¡æœ‰æ„ä¹‰







**Sç³»åˆ—äº¤æ¢æœºé…ç½®Trunkå£**

```python
# è¿›å…¥ç«¯å£
[SW1]interface Ethernet 0/0/1

# é…ç½®ç±»å‹
[SW1-Ethernet0/0/1]port link-type trunk

# é…ç½®allow-pass vlan(vlanå¯ä»¥ä¸å­˜åœ¨ï¼Œä½†æ˜¯å¿…é¡»åˆæ³•)
[SW1-Ethernet0/0/1]port trunk allow-pass vlan 10 20

# æ·»åŠ allow-pass vlan (vlanå¯ä»¥ä¸å­˜åœ¨ï¼Œä½†æ˜¯å¿…é¡»åˆæ³•)
[SW1-Ethernet0/0/1]port trunk allow-pass vlan 30

# åˆ é™¤å…¶ä¸­ä¸€ä¸ªvlan
[SW1-Ethernet0/0/1]undo port trunk allow-pass vlan 30

# åˆ é™¤allow-passï¼ˆåˆ é™¤å…¨éƒ¨vlanä»¥åå°±åˆ é™¤äº† allow-passäº†ï¼‰
[SW1-Ethernet0/0/1]undo port trunk allow-pass vlan 10 20

# é…ç½®PVID(vlanå¿…é¡»å­˜åœ¨)
[SW1-Ethernet0/0/1]port trunk pvid vlan 10
```







**CEç³»åˆ—**

```python
# å¿…é¡»å¼€å¯ç«¯å£
interface CE 0/0/1

# å¼€å¯ç«¯å£
undo shutdown

# æäº¤(CEç³»åˆ—äº¤æ¢æœºå¿…é¡»æäº¤ä»»åŠ¡ï¼Œä¸ç„¶ä¸ç”Ÿæ•ˆ)
commit
```





## äºŒã€åä¸ºäº¤æ¢æœºé…ç½®ç®¡ç†å£

**user-interface vty 0 4å‚æ•°è¯´æ˜**

```
user-interface æ˜¯æŒ‡ç”¨æˆ·ç•Œé¢ã€‚

vty ï¼Œå…¨ç§°ä¸ºVirtual Teletype Terminalï¼ŒæŒ‡è™šæ‹Ÿç»ˆç«¯ã€‚ä¸å¸¦vtyçš„ï¼Œå°±æ˜¯å®å®åœ¨åœ¨çš„ç«¯å£ã€‚

0 4 ï¼š0æ˜¯åˆå§‹å€¼ï¼Œ4æ˜¯ç»“æŸå€¼ã€‚è¡¨ç¤ºå¯åŒæ—¶æ‰“å¼€5ä¸ªä¼šè¯ï¼Œè¿›å…¥äº¤æ¢æœºå»é…ç½®å‘½ä»¤ï¼Œå¹¶ä¸”ä½¿ç”¨çš„é…ç½®éƒ½æ˜¯ä¸€æ ·çš„
```

```python
display telnet server status

display ssh user-information 

display ssh server status 
```









## ä¸‰ã€CEäº¤æ¢æœºçš„NULL0æ¥å£

åä¸ºäº¤æ¢æœºé…ç½®é‡Œinterface NULL0æ„æ€æ˜¯æ˜¯è™šæ‹Ÿæ¥å£0ï¼Œæ˜¯ä¸€ç§çº¯è½¯ä»¶æ€§è´¨çš„é€»è¾‘æ¥å£ã€‚å®ƒæ°¸è¿œå¤„äºupçŠ¶æ€ï¼Œä½†ä¸èƒ½è½¬å‘æ•°æ®åŒ…ï¼Œä¹Ÿä¸èƒ½é…ç½®ipåœ°å€å’Œé“¾è·¯å±‚åè®®ã€‚å¦‚æœåœ¨é™æ€è·¯ç”±ä¸­æŒ‡å®šåˆ°è¾¾æŸä¸€ç½‘æ®µçš„ä¸‹ä¸€æ¡ä¸ºnullæ¥å£æ—¶ï¼Œåˆ™ä»»ä½•é€åˆ°è¯¥ç½‘æ®µçš„ç½‘ç»œæ•°æ®æŠ¥æ–‡éƒ½ä¼šè¢«ä¸¢ã€‚

å› æ­¤åä¸ºäº¤æ¢æœºè®¾å¤‡é€šè¿‡nullæ¥å£æä¾›äº†ä¸€ç§è¿‡æ»¤æŠ¥æ–‡çš„ç®€å•æ–¹æ³•ï¼šå°†ä¸éœ€è¦çš„ç½‘ç»œæµé‡å‘é€åˆ°nullæ¥å£ï¼Œä»è€Œå…å»é…ç½®aclï¼ˆè®¿é—®æ§åˆ¶åˆ—è¡¨ï¼‰çš„å¤æ‚å·¥ä½œã€‚

ç›¸å½“äºLinuxç³»ç»Ÿçš„/dev/null





## å››ã€é…ç½®telnet

[SSH](https://so.csdn.net/so/search?q=SSH&spm=1001.2101.3001.7020) Telnet( ç®€ç§°Stelnetï¼‰ï¼Œåœ¨åä¸ºçš„ç½‘ç»œè®¾å¤‡ä¸Šï¼Œå®ƒåªæ˜¯â€œSSHâ€çš„å¦ä¸€ç§å«æ³•ï¼ˆè€Œå®é™…Stelnetå’ŒSSHçš„åŒºåˆ«ä¹Ÿåªæ˜¯å«æ³•ä¸Šä¸åŒè€Œå·²ï¼‰

**ç¬¬ä¸€æ¬¡é…ç½®**

```bash
# è¿›å…¥ç³»ç»Ÿè§†å›¾
system-view

# é…ç½®è¿œç¨‹ç™»å½•è§†å›¾,é‡‡ç”¨aaaè®¤è¯
[~HUAWEI]user-interface vty 0 4
[~HUAWEI-ui-vty0-4]authentication-mode aaa
[*HUAWEI-ui-vty0-4]protocol inbound all		# é…ç½®å…¥ç«™ä¼ å…¥åè®®
[*HUAWEI-ui-vty0-4]user privilege level 3
[*HUAWEI-ui-vty0-4]quit

# é…ç½®aaaè®¤è¯
[*HUAWEI]aaa
[*HUAWEI-aaa]local-user client001 password irreversible-cipher Huawei@123
[*HUAWEI-aaa]local-user client001 level 3
[*HUAWEI-aaa]local-user client001 user-group manage-ug
[*HUAWEI-aaa]local-user client001 service-type ssh
[*HUAWEI-aaa]commit
[~HUAWEI-aaa]quit

# é…ç½®ç”¨æˆ·
[~HUAWEI]ssh user client001
[*HUAWEI]ssh user client001 authentication-type password
[*HUAWEI]commit

# å¼€å¯stelnet å’Œ snetconf åè®®
[~HUAWEI]stelnet server enable
[*HUAWEI]ssh user client001 service-type stelnet snetconf
[*HUAWEI]snetconf server enable 
[*HUAWEI]commit

# é…ç½®å¯†é’¥+å¯†ç ç™»å½•
## å®¢æˆ·ç«¯ç”ŸæˆRSAè¯ä¹¦ï¼ˆä¹Ÿå¯ä»¥ä½¿ç”¨,Xshellä¸Šé¢çš„è‡ªåŠ¨ç”Ÿæˆï¼‰
ssh-keygen -t rsa

## å°†å…¬é’¥è½¬æ¢æˆ16è¿›åˆ¶å­—ç¬¦ä¸²å½¢å¼
ssh-keygen -f id_rsa.pub -e -m pem | grep -v '\-\-\-\-' | base64 -d | xxd -p


## é…ç½®äº¤æ¢æœºaaaè®¤è¯è´¦å·
[*HUAWEI]aaa
[*HUAWEI-aaa]local-user client010 password irreversible-cipher Huawei@12345
[*HUAWEI-aaa]local-user client010 level 3

[*HUAWEI-aaa]local-user client01 service-type ssh
[*HUAWEI-aaa]commit
[~HUAWEI-aaa]q


## å°†å…¬é’¥å¯¼å…¥è®¾å¤‡ï¼Œå‘½åä¸ºzmz_rsa
[~HUAWEI]rsa peer-public-key zmz_rsa
[*HUAWEI-rsa-public-key]public-key-code begin
æ­¤å¤„ç²˜è´´16è¿›åˆ¶å…¬é’¥
30818702818100bb4479cb8c2fa0ed888a353338c3de28358b698a7f4d02
3e317dc62d1d93fd63d9fbcd083ccb0dbc4075ee2004aa1e7a15ee9639a4
e4c77d815345f5ff7e37b683bb3b9aca43b04f2dcb045e7928331f7814fd
e82cff737d56ef0032fd6b4109974529589ad71ad25893775fd455d6daa7
0004c81a4b7db7da6c833609b4b333020123
[*HUAWEI-rsa-public-key-rsa-key-code] public-key-code end
[*HUAWEI-rsa-public-key] peer-public-key end
[*HUAWEI] commit

## é…ç½®SSHç”¨æˆ·(é‡‡ç”¨å¯†ç +å¯†é’¥)
[~HUAWEI]ssh user client010 authentication-type password-rsa
[*HUAWEI]ssh user client010 assign rsa-key zmz_rsa
[*HUAWEI]ssh user client010 service-type stelnet
[*HUAWEI]commit
```



**å¦‚æœå·²ç»é…ç½®VTYè§†å›¾ï¼Œåé¢æ·»åŠ ç”¨æˆ·åªéœ€è¦ï¼Œé…ç½®åé¢çš„å°±å¯ä»¥äº†**

**é…ç½®äº¤æ¢æœºç™»å½•ç«¯å£**

```bash
# æˆ‘ä»¬è¿™é‡Œä½¿ç”¨vlanif1 é€»è¾‘å£æ¥ä½œä¸ºäº¤æ¢æœºç™»å½•å£ï¼Œ å› ä¸ºvlan1æ˜¯ç³»ç»Ÿé»˜è®¤é…ç½®çš„
[~HUAWEI]interface Vlanif 1
[*HUAWEI-Vlanif1]ip address 192.168.56.33 24
[*HUAWEI-Vlanif1]commit

# è¿›å…¥è¿çº¿å£ï¼Œå¼€å¯ç«¯å£
[~HUAWEI]interface GE1/0/0
[~HUAWEI-GE1/0/0]undo shutdown 
[*HUAWEI-GE1/0/0]commit
```





##  äº”ã€äº¤æ¢æœº

å¦‚ä½•æŸ¥çœ‹å½“å‰æœ‰å“ªäº›ç”¨æˆ·ç™»å½•äº†

```bash
display users 			# å¦‚æœæœ‰äººç™»å½•ï¼Œ ä¼šæ˜¾ç¤ºé‡‡ç”¨å“ªä¸ªè´¦å·è¿›è¡Œç™»å½•çš„
display user-interface	# å¦‚æœæœ‰äººåœ¨ç™»å½• ä¼šæ˜¾ç¤ºä¸€ä¸ª+


display ssh user-information client004	# æŒ‡å®šæŸ¥çœ‹æŸä¸€ä¸ªé…ç½®ç”¨æˆ·ï¼Œè¿™ä¸ªä¸æ˜¯ç™»å½•ç”¨æˆ·

# åˆ é™¤ä¸€ä¸ªç”¨æˆ·
## é¦–å…ˆåˆ é™¤aaaè®¤è¯
aaa
undo local-user client003
commit
quit
## åœ¨åˆ é™¤æœ¬åœ°ç”¨æˆ·
undo ssh user client003
commit
```





```
GE1/0/0                    up       up        0.01%  0.01%          0          0
GE1/0/1                    up       up           0%     0%          0          0
GE1/0/2                    *down    down         0%     0%          0          0
GE1/0/3                    *down    down         0%     0%          0          0
GE1/0/4                    *down    down         0%     0%          0          0
GE1/0/5                    *down    down         0%     0%          0          0
GE1/0/6                    *down    down         0%     0%          0          0
GE1/0/7                    *down    down         0%     0%          0          0
GE1/0/8                    *down    down         0%     0%          0          0
GE1/0/9                    *down    down         0%     0%          0          0
GE1/0/10                   *down    down         0%     0%          0          0
GE1/0/11                   *down    down         0%     0%          0          0
GE1/0/12                   *down    down  
```





```bash
[~HUAWEI]undo vlan batch 2 to 4
Warning: The configurations of the VLAN will be deleted. Continue? [Y/N]:Y
Error: The VLAN has an L3 interface. Please delete it first.
åˆ é™¤vlançš„æ—¶å€™ å¦‚æœå­˜åœ¨vlanifä¸‰å±‚æ¥å£çš„æ—¶å€™ï¼Œæ˜¯åˆ é™¤ä¸æ‰çš„



[~HUAWEI-GE1/0/5]port trunk pvid vlan 2
Error: The VLAN does not exist.


# hybridäº¤æ¢æœºçš„untaggedå’Œtaggedæ˜¯äº’æ–¥çš„

# åˆ é™¤vlançš„æ—¶å€™ å¦‚æœå­˜åœ¨vlanifä¸‰å±‚æ¥å£çš„æ—¶å€™ï¼Œæ˜¯åˆ é™¤ä¸æ‰çš„

# åˆ é™¤VLANï¼Œå¯¹åº”çš„ç«¯å£çš„PVIDé…ç½®ä¼šè¢«æ¸…é™¤ï¼Œuntaggedã€taggedã€allow-passè¿™äº›ä¸ä¼šè¢«æ¸…é™¤

# é…ç½®PVIDçš„æ—¶å€™ï¼ŒVLANå¿…é¡»å­˜åœ¨ï¼Œå¦åˆ™ä¸ç„¶é…ç½®
```

