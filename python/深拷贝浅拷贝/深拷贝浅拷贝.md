

# ä¸€ã€æµ…æ‹·è´å’Œæ·±æ‹·è´

**é¦–å…ˆæ·±æ‹·è´å’Œæµ…æ‹·è´éƒ½æ˜¯å¯¹è±¡çš„æ‹·è´ï¼Œéƒ½ä¼šç”Ÿæˆä¸€ä¸ªçœ‹èµ·æ¥ç›¸åŒçš„å¯¹è±¡ï¼Œä»–ä»¬æœ¬è´¨çš„åŒºåˆ«æ˜¯æ‹·è´å‡ºæ¥çš„å¯¹è±¡çš„åœ°å€æ˜¯å¦å’ŒåŽŸå¯¹è±¡ä¸€æ ·ï¼Œä¹Ÿå°±æ˜¯åœ°å€çš„å¤åˆ¶è¿˜æ˜¯å€¼çš„å¤åˆ¶çš„åŒºåˆ«ã€‚**

é¦–å…ˆæˆ‘ä»¬è¦çŸ¥é“ä¸€ä¸ªæ¦‚å¿µï¼Œé‚£å°±æ˜¯**ä»€ä¹ˆæ˜¯å¯å˜å¯¹è±¡ï¼Œä»€ä¹ˆæ˜¯ä¸å¯å˜å¯¹è±¡ï¼š**

å¯å˜å¯¹è±¡æ˜¯æŒ‡ï¼Œä¸€ä¸ªå¯¹è±¡åœ¨ä¸æ”¹å˜å…¶æ‰€æŒ‡å‘çš„åœ°å€çš„å‰æä¸‹ï¼Œå¯ä»¥ä¿®æ”¹å…¶æ‰€æŒ‡å‘çš„åœ°å€ä¸­çš„å€¼ï¼›

ä¸å¯å˜å¯¹è±¡æ˜¯æŒ‡ï¼Œä¸€ä¸ªå¯¹è±¡æ‰€æŒ‡å‘çš„åœ°å€ä¸Šå€¼æ˜¯ä¸èƒ½ä¿®æ”¹çš„ï¼Œå¦‚æžœä½ ä¿®æ”¹äº†è¿™ä¸ªå¯¹è±¡çš„å€¼ï¼Œé‚£ä¹ˆå®ƒæŒ‡å‘çš„åœ°å€å°±æ”¹å˜äº†ï¼Œç›¸å½“äºŽä½ æŠŠè¿™ä¸ªå¯¹è±¡æŒ‡å‘çš„å€¼å¤åˆ¶å‡ºæ¥ä¸€ä»½ï¼Œç„¶åŽåšäº†ä¿®æ”¹åŽå­˜åˆ°å¦ä¸€ä¸ªåœ°å€ä¸Šäº†ï¼Œä½†æ˜¯å¯å˜å¯¹è±¡å°±ä¸ä¼šåšè¿™æ ·çš„åŠ¨ä½œï¼Œè€Œæ˜¯ç›´æŽ¥åœ¨å¯¹è±¡æ‰€æŒ‡çš„åœ°å€ä¸ŠæŠŠå€¼ç»™æ”¹å˜äº†ï¼Œè€Œè¿™ä¸ªå¯¹è±¡ä¾ç„¶æŒ‡å‘è¿™ä¸ªåœ°å€ã€‚



åˆ—è¡¨ï¼Œå­—å…¸å°±æ˜¯ä¸€ä¸ªå¯å˜å¯¹è±¡ï¼Œä»–ä»¬é‡Œé¢çš„å€¼å‘é€æ”¹å˜ï¼Œä½†æ˜¯åˆ—è¡¨å¯¹è±¡çš„idæ˜¯ä¸ä¼šå˜çš„.

ðŸ”ºå…¶å®žæˆ‘ä»¬çŽ°åœ¨å­¦åˆ°çš„å¤§éƒ¨åˆ†æ•°æ®ç»“æž„éƒ½æ˜¯å¯å˜å¯¹è±¡ã€‚æˆ‘ä»¬å®šä¹‰çš„ç±»ä¹Ÿæ˜¯å¯å˜å¯¹è±¡

```python
a = {"a":1, "b":2}
b = a.copy()

>>> id(a)
1765374957248

>>> id(b)
1765374956168

>>> b['b']=3

>>> id(a)
1765374957248

>>> id(b)
1765374956168

=======å®Œç¾Žåˆ†å‰²çº¿=========
a = [1, 2, 3]
b = a.copy()

>>> id(a)
1765375321480
>>> id(b)
1765375174024

>>> a[0] = 10
>>> id(a)
1765375321480
>>> id(b)
1765375174024

=======å®Œç¾Žåˆ†å‰²çº¿:å­—å…¸çš„æµ…æ‹·è´=========
a = {"a":{"b":1}}
b = a.copy()
>>> id(a)
1765375324448
>>> id(b)
1765374956240
>>> a['a']['b'] = 2

>>> a
{'a': {'b': 2}}
>>> b
{'a': {'b': 2}}

```

**å¦‚æžœä¸€ä¸ªå¯¹è±¡é‡Œé¢åµŒå¥—äº†ä¸€ä¸ªå¯å˜å¯¹è±¡ã€‚å½“æˆ‘ä»¬ä¿®æ”¹è¿™ä¸ªå¯å˜å¯¹è±¡é‡Œé¢çš„å…ƒç´ çš„å€¼çš„æ—¶å€™ï¼Œå…¶ä»–æµ…æ‹·è´çš„å¯¹è±¡ä¹Ÿä¼šè·Ÿç€å‘é€æ”¹å˜**

**è¡¥å……è¯´ä¸€ä¸‹å…ƒç»„æµ…æ‹·è´ä»¥åŽidä¸ä¼šå˜ï¼Œç›¸å½“äºŽèµ‹å€¼æ“ä½œ**

```python
# è¡¥å……è¯´æ˜Žä¸€ä¸‹ï¼Œå…ƒç»„å°±ä¸¤ä¸ªæ–¹æ³•ä¸€ä¸ªcountç»Ÿè®¡å…ƒç´ çš„ä¸ªæ•°,ä¸€ä¸ªindexè¿”å›žå…ƒç´ çš„ç´¢å¼•
import copy
a = ([1, 2], 3, [4, 5])
b = copy.copy(a)

>>> id(a)
1765375380864
>>> id(b)
1765375380864
```





**æ·±æ‹·è´å’Œæµ…æ‹·è´éœ€è¦æ³¨æ„çš„åœ°æ–¹å°±æ˜¯å¯å˜å…ƒç´ çš„æ‹·è´ï¼š**

åœ¨æµ…æ‹·è´æ—¶ï¼Œæ‹·è´å‡ºæ¥çš„æ–°å¯¹è±¡çš„åœ°å€å’ŒåŽŸå¯¹è±¡æ˜¯ä¸ä¸€æ ·çš„ï¼Œä½†æ˜¯æ–°å¯¹è±¡é‡Œé¢çš„å¯å˜å…ƒç´ ï¼ˆå¦‚åˆ—è¡¨ï¼‰çš„åœ°å€å’ŒåŽŸå¯¹è±¡é‡Œçš„å¯å˜å…ƒç´ çš„åœ°å€æ˜¯ç›¸åŒçš„ï¼Œä¹Ÿå°±æ˜¯è¯´æµ…æ‹·è´å®ƒæ‹·è´çš„æ˜¯æµ…å±‚æ¬¡çš„æ•°æ®ç»“æž„ï¼ˆä¸å¯å˜å…ƒç´ ï¼‰ï¼Œå¯¹è±¡é‡Œçš„å¯å˜å…ƒç´ ä½œä¸ºæ·±å±‚æ¬¡çš„æ•°æ®ç»“æž„å¹¶æ²¡æœ‰è¢«æ‹·è´åˆ°æ–°åœ°å€é‡Œé¢åŽ»ï¼Œè€Œæ˜¯å’ŒåŽŸå¯¹è±¡é‡Œçš„å¯å˜å…ƒç´ æŒ‡å‘åŒä¸€ä¸ªåœ°å€ï¼Œæ‰€ä»¥åœ¨æ–°å¯¹è±¡æˆ–åŽŸå¯¹è±¡é‡Œå¯¹è¿™ä¸ªå¯å˜å…ƒç´ åšä¿®æ”¹æ—¶ï¼Œä¸¤ä¸ªå¯¹è±¡æ˜¯åŒæ—¶æ”¹å˜çš„ï¼Œä½†æ˜¯æ·±æ‹·è´ä¸ä¼šè¿™æ ·ï¼Œè¿™ä¸ªæ˜¯æµ…æ‹·è´ç›¸å¯¹äºŽæ·±æ‹·è´æœ€æ ¹æœ¬çš„åŒºåˆ«ã€‚



æµ…æ‹·è´çš„æ—¶å€™ï¼Œæˆ‘ä»¬æ‹·è´çš„å¯¹è±¡å’ŒåŽŸå¯¹è±¡çš„å†…å­˜idæ˜¯ä¸ä¸€æ ·çš„ï¼Œä½†æ˜¯å¦‚æžœåŽŸå¯¹è±¡é‡Œé¢è¿˜æœ‰ä¸€ä¸ªå¯å˜å¯¹è±¡ï¼Œæ¯”å¦‚åˆ—è¡¨ï¼Œåœ¨æµ…æ‹·è´çš„æ—¶å€™ï¼Œè¿™é‡Œé¢çš„å¯å˜å¯¹è±¡idå’ŒåŽŸå¯¹è±¡é‡Œé¢çš„idæ˜¯ä¸€æ ·çš„ã€‚è¿™å°±é€ æˆäº†ä¸€ä¸ªé—®é¢˜ã€‚å½“æˆ‘ä»¬ä¿®æ”¹è¿™é‡Œå€¼çš„æ—¶å€™ï¼ŒåŽŸå¯¹è±¡å’Œæµ…æ‹·è´å¯¹è±¡éƒ½ä¼šå‘ç”Ÿæ”¹å˜ã€‚è€Œæ·±æ‹·è´å°±ä¸ä¼šæœ‰è¿™æ ·çš„é—®é¢˜



ä¸€èˆ¬æˆ‘ä»¬è¯´çš„æ·±æ‹·è´å’Œæµ…æ‹·è´ï¼Œå°±æ˜¯é’ˆå¯¹ä¸€ä¸ªåˆ—è¡¨é‡Œé¢çš„å¯å˜å…ƒç´ é‡Œé¢çš„å€¼ï¼ˆåˆ—è¡¨ï¼‰

å¸¸è§çš„å½¢å¼æ˜¯è¿™æ ·çš„ [[1, 2, 3], 4, [5, 6, 7]] è¿™ç§æ ¼å¼çš„æ•°æ®å°±è¦è­¦æƒ•æ·±æ‹·è´å’Œæµ…æ‹·è´å½±å“äº†



**æµ…æ‹·è´çš„ä¾‹å­**

```python
import copy
a = [[1, 2, 3], 44, [5, 6, 7]]
b = a[:]						# æµ…æ‹·è´
c = a[0:1]						# æµ…æ‹·è´
d = a.copy()					# æµ…æ‹·è´
e = copy.copy(a)				# æµ…æ‹·è´

>>> a[0][0] = 10				# åŽé¢çš„b c d eéƒ½ä¼šè·Ÿç€å˜

>>> b
[[10, 2, 3], 44, [5, 6, 7]]

>>> c
[[10, 2, 3], 44, [5, 6, 7]]

>>> d
[[10, 2, 3], 44, [5, 6, 7]]

>>> e
[[10, 2, 3]]


#  æˆ‘ä»¬å†åšå¦‚ä¸‹ä¿®æ”¹
>>> b[0][0] = 100

>>> a
[[100, 2, 3], 44, [5, 6, 7]]

>>> b
[[100, 2, 3], 44, [5, 6, 7]]

>>> c
[[100, 2, 3]]

>>> d
[[100, 2, 3], 44, [5, 6, 7]]

>>> e
[[100, 2, 3], 44, [5, 6, 7]]
```



**æ·±æ‹·è´**

```python
import copy
a = [[1, 2, 3], 44, [5, 6, 7]]
b = copy.deepcopy(a)

>>> a[0][0] = 100
>>> a
[[100, 2, 3], 44, [5, 6, 7]]
>>> b
[[1, 2, 3], 44, [5, 6, 7]]
```

